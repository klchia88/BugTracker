@model BugTracker.Models.CodeFirst.Ticket

@{
    //Layout = "~/Views/Shared/_LayoutTopBar.cshtml";
    Layout = "~/Views/Shared/_LayoutMenu.cshtml";
}

@{
    ViewBag.Title = "Delete";
}

<!-- ============================================================== -->
<!-- Page Header -->
<!-- ============================================================== -->
<div id="page-wrapper">
    <div class="container-fluid">

        <br />
        <div class="row">
            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 ">
                <a href="#" class="triggerp" id="mediumtrig1">
                    <i class="fa fa-bug fa-fw" aria-hidden="true"></i>
                </a>
            </div>
            <div class="col-lg-11 col-md-11 col-sm-11 col-xs-11 ">
                <p class="text-success">@ViewBag.StatusMessage</p>
            </div>
        </div><!-- div class="row" -->
        <br />

        <!-- <a href="#" class="triggerp" id="ticketdeltrig1"> -->
        <!-- <div class="poptrig" id="ticketdelpop1"> -->
        <!-- <div class="poptrig" id="mediumpop1"> -->

        <!-- HIDDEN / POP-UP DIV -->
        <div class="poptrig" id="mediumpop1">
            <h3>@ViewBag.Title</h3>
            <br />
            In the production system, DELETE Tickets function will be disabled.<br />
            The rationale is that we will keep everything that is entered into the production system, 
            and anything unwanted will be archived off.<br />
            The DELETE Tickets function is left in here temporarily before moving into production.<br />
            It will just be a quick change in the Tickets controller to disable the DELETE Tickets function.<br />
            <br />
            Only Admin Role can DELETE Tickets.<br />
            <br />
        </div>

        <!-- ============================================================== -->
        <!-- Page Content -->
        <!-- ============================================================== -->
        <h3>Are you sure you want to delete this ticket?</h3>
        <div>

            <dl class="dl-horizontal">
                <dt>
                    @Html.DisplayNameFor(model => model.Title)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Title)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Description)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Description)
                </dd>

                <dt>
                    Owner
                    @*@Html.DisplayNameFor(model => model.OwnerUser.DisplayName)*@
                </dt>
                <dd>
                    @*@Html.DisplayFor(model => model.OwnerUser.DisplayName)*@
                    @Html.DisplayFor(model => model.OwnerUser.FirstName)
                    @Html.DisplayFor(model => model.OwnerUser.LastName)
                    (
                    @Html.DisplayFor(model => model.OwnerUser.Email)
                    )
                </dd>

                <dt>
                    AssignedTo
                    @*@Html.DisplayNameFor(model => model.AssignedToUser.DisplayName)*@
                </dt>
                <dd>
                    @*@Html.DisplayFor(model => model.AssignedToUser.DisplayName)*@
                    @Html.DisplayFor(model => model.AssignedToUser.FirstName)
                    @Html.DisplayFor(model => model.AssignedToUser.LastName)
                    (
                    @Html.DisplayFor(model => model.AssignedToUser.Email)
                    )
                </dd>

                <dt>
                    Project
                    @*@Html.DisplayNameFor(model => model.Project.Name)*@
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Project.Name)
                </dd>

                <dt>
                    Priority
                    @*@Html.DisplayNameFor(model => model.TicketPriority.Name)*@
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.TicketPriority.Name)
                </dd>

                <dt>
                    Status
                    @*@Html.DisplayNameFor(model => model.TicketStatus.Name)*@
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.TicketStatus.Name)
                </dd>

                <dt>
                    Type
                    @*@Html.DisplayNameFor(model => model.TicketType.Name)*@
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.TicketType.Name)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Created)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Created)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Updated)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Updated)
                </dd>

            </dl>

            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()

                <div class="form-actions no-color"><i class="fa fa-reply" aria-hidden="true"></i>
                    @Html.ActionLink("Back to List", "Index")
                    <input type="submit" value="Delete" class="btn btn-primary" style="color:darkred" />
                </div>
            }
        </div>
        <!-- ============================================================== -->
        <!-- End Page Content -->
        <!-- ============================================================== -->
    </div><!-- div class="container-fluid" -->
</div><!-- div id="page-wrapper" -->
<br /><br />

@section scripts{
    <script type="text/javascript">
      $(function() {
        var moveRight = 20;
        var moveDown = 1;

        $('a#mediumtrig1').hover(function(e) {
            $('div#mediumpop1').show()
            .css('top', e.pageY + moveDown)
            .css('left', e.pageX + moveRight)
            .appendTo('body');
        }, function() {
            setTimeout(function () { $('div#mediumpop1').hide(); }, 500);
        });

      });
      //setTimeout(function () { $('div#dashboardpop1').hide(); }, 5000); <== Sets how fast the pop-up disappears after mouse leaving.
    </script>
}

